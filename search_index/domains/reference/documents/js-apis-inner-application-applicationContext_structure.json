{
  "doc_id": "js-apis-inner-application-applicationContext",
  "title": "ApplicationContext (应用上下文)",
  "path": "zh-cn/application-dev/reference/apis-ability-kit/js-apis-inner-application-applicationContext.md",
  "relative_path": "../../docs/zh-cn/application-dev/reference/apis-ability-kit/js-apis-inner-application-applicationContext.md",
  "metadata": {
    "kit": "Ability Kit",
    "subsystem": "Ability",
    "owner": "@zexin_c",
    "designer": "@li-weifeng2024",
    "tester": "@lixueqing513",
    "adviser": "@huipeizi"
  },
  "summary": "Ability Kit Ability 模块的 ApplicationContext (应用上下文)，提供相关接口和功能说明。",
  "structure": {
    "title": "ApplicationContext (应用上下文)",
    "sections": [
      {
        "section_id": "section-1",
        "title": "导入模块",
        "level": 2,
        "line_start": 17,
        "line_end": 22,
        "summary": "```ts\nimport { common } from '@kit.AbilityKit';\n```"
      },
      {
        "section_id": "section-2",
        "title": "ApplicationContext.on('abilityLifecycle')",
        "level": 2,
        "line_start": 23,
        "line_end": 110,
        "summary": "on(type: 'abilityLifecycle', callback: AbilityLifecycleCallback): number\n\n注册监听应用内UIAbility的生命周期。使用c"
      },
      {
        "section_id": "section-3",
        "title": "ApplicationContext.off('abilityLifecycle')",
        "level": 2,
        "line_start": 111,
        "line_end": 163,
        "summary": "off(type: 'abilityLifecycle', callbackId: number,  callback: AsyncCallback\\<void>): void\n\n取消监听应用内UI"
      },
      {
        "section_id": "section-4",
        "title": "ApplicationContext.off('abilityLifecycle')",
        "level": 2,
        "line_start": 164,
        "line_end": 215,
        "summary": "off(type: 'abilityLifecycle', callbackId: number): Promise\\<void>\n\n取消监听应用内UIAbility的生命周期。使用Promise异"
      },
      {
        "section_id": "section-5",
        "title": "ApplicationContext.on('environment')",
        "level": 2,
        "line_start": 216,
        "line_end": 283,
        "summary": "on(type: 'environment', callback: EnvironmentCallback): number\n\n注册对系统环境变化的监听。使用callback异步回调。仅支持主线程调"
      },
      {
        "section_id": "section-6",
        "title": "ApplicationContext.off('environment')",
        "level": 2,
        "line_start": 284,
        "line_end": 335,
        "summary": "off(type: 'environment', callbackId: number,  callback: AsyncCallback\\<void>): void\n\n取消对系统环境变化的监听。使"
      },
      {
        "section_id": "section-7",
        "title": "ApplicationContext.off('environment')",
        "level": 2,
        "line_start": 336,
        "line_end": 386,
        "summary": "off(type: 'environment', callbackId: number): Promise\\<void\\>\n\n取消对系统环境变化的监听。使用Promise异步回调。仅支持主线程调用。"
      },
      {
        "section_id": "section-8",
        "title": "ApplicationContext.on('applicationStateChange')<sup>10+</sup>",
        "level": 2,
        "line_start": 387,
        "line_end": 442,
        "summary": "on(type: 'applicationStateChange', callback: ApplicationStateChangeCallback): void\n\n注册对当前应用进程状态变化的监"
      },
      {
        "section_id": "section-9",
        "title": "ApplicationContext.off('applicationStateChange')<sup>10+</sup>",
        "level": 2,
        "line_start": 443,
        "line_end": 498,
        "summary": "off(type: 'applicationStateChange', callback?: ApplicationStateChangeCallback): void\n\n取消对当前应用进程状态变化"
      },
      {
        "section_id": "section-10",
        "title": "ApplicationContext.onSystemConfigurationUpdated<sup>24+</sup>",
        "level": 2,
        "line_start": 499,
        "line_end": 568,
        "summary": "onSystemConfigurationUpdated(callback: systemconfiguration.UpdatedCallback): void\n\n注册监听系统环境[Configu"
      },
      {
        "section_id": "section-11",
        "title": "ApplicationContext.offSystemConfigurationUpdated<sup>24+</sup>",
        "level": 2,
        "line_start": 569,
        "line_end": 634,
        "summary": "offSystemConfigurationUpdated(callback?: systemconfiguration.UpdatedCallback): void\n\n取消监听系统环境[Confi"
      },
      {
        "section_id": "section-12",
        "title": "ApplicationContext.getRunningProcessInformation",
        "level": 2,
        "line_start": 635,
        "line_end": 678,
        "summary": "getRunningProcessInformation(): Promise\\<Array\\<ProcessInformation>>\n\n获取运行中的进程信息。使用Promise异步回调。\n\n**"
      },
      {
        "section_id": "section-13",
        "title": "ApplicationContext.getRunningProcessInformation",
        "level": 2,
        "line_start": 679,
        "line_end": 723,
        "summary": "getRunningProcessInformation(callback: AsyncCallback\\<Array\\<ProcessInformation>>): void\n\n获取运行中的进程信"
      },
      {
        "section_id": "section-14",
        "title": "ApplicationContext.killAllProcesses",
        "level": 2,
        "line_start": 724,
        "line_end": 765,
        "summary": "killAllProcesses(): Promise\\<void\\>\n\n终止应用的所有进程，进程退出时不会正常执行完整的应用生命周期流程。使用Promise异步回调。仅支持主线程调用。\n\n> **"
      },
      {
        "section_id": "section-15",
        "title": "ApplicationContext.killAllProcesses<sup>14+</sup>",
        "level": 2,
        "line_start": 766,
        "line_end": 815,
        "summary": "killAllProcesses(clearPageStack: boolean): Promise\\<void\\>\n\n终止应用的所有进程，进程退出时不会正常执行完整的应用生命周期流程。使用Prom"
      },
      {
        "section_id": "section-16",
        "title": "ApplicationContext.killAllProcesses",
        "level": 2,
        "line_start": 816,
        "line_end": 860,
        "summary": "killAllProcesses(callback: AsyncCallback\\<void\\>): void\n\n终止应用的所有进程，进程退出时不会正常执行完整的应用生命周期流程。使用callbac"
      },
      {
        "section_id": "section-17",
        "title": "ApplicationContext.setColorMode<sup>11+</sup>",
        "level": 2,
        "line_start": 861,
        "line_end": 911,
        "summary": "setColorMode(colorMode: ConfigurationConstant.ColorMode): void\n\n设置应用的深浅色模式。仅支持主线程调用。\n\n> **说明：**\n>\n>"
      },
      {
        "section_id": "section-18",
        "title": "ApplicationContext.setLanguage<sup>11+</sup>",
        "level": 2,
        "line_start": 912,
        "line_end": 961,
        "summary": "setLanguage(language: string): void\n\n设置应用的语言。仅支持主线程调用。\n\n> **说明：**\n>\n> 调用该接口前，需要确保窗口已完成创建、且UIAbility"
      },
      {
        "section_id": "section-19",
        "title": "ApplicationContext.clearUpApplicationData<sup>11+</sup>",
        "level": 2,
        "line_start": 962,
        "line_end": 1004,
        "summary": "clearUpApplicationData(): Promise\\<void\\>\n\n清理当前应用的应用文件路径下的所有数据，同时撤销应用向用户申请的权限。使用Promise异步回调。仅支持主线程调"
      },
      {
        "section_id": "section-20",
        "title": "ApplicationContext.clearUpApplicationData<sup>11+</sup>",
        "level": 2,
        "line_start": 1005,
        "line_end": 1051,
        "summary": "clearUpApplicationData(callback: AsyncCallback\\<void\\>): void\n\n清理当前应用的应用文件路径下的所有数据，同时撤销应用向用户申请的权限。使"
      },
      {
        "section_id": "section-21",
        "title": "ApplicationContext.restartApp<sup>12+</sup>",
        "level": 2,
        "line_start": 1052,
        "line_end": 1131,
        "summary": "restartApp(want: Want): void\n\n应用重启并拉起自身指定UIAbility。仅支持主线程调用，且待重启的应用需要处于获焦状态。\n\n> **说明：**\n>\n> 通过该接口重启"
      },
      {
        "section_id": "section-22",
        "title": "ApplicationContext.getCurrentAppCloneIndex<sup>12+</sup>",
        "level": 2,
        "line_start": 1132,
        "line_end": 1173,
        "summary": "getCurrentAppCloneIndex(): number\n\n获取当前应用的分身索引。\n\n**原子化服务API**：从API version 12开始，该接口支持在原子化服务中使用。\n\n**"
      },
      {
        "section_id": "section-23",
        "title": "ApplicationContext.setFont<sup>12+</sup>",
        "level": 2,
        "line_start": 1174,
        "line_end": 1235,
        "summary": "setFont(font: string): void\n\n设置应用的字体类型。仅支持主线程调用。\n\n> **说明：**\n>\n> 调用该接口前，需要确保窗口已完成创建、且UIAbility对应的页面已"
      },
      {
        "section_id": "section-24",
        "title": "ApplicationContext.setSupportedProcessCache<sup>12+</sup>",
        "level": 2,
        "line_start": 1236,
        "line_end": 1291,
        "summary": "setSupportedProcessCache(isSupported : boolean): void\n\n设置当前应用进程是否支持进程资源的缓存，便于应用再次启动时复用缓存的进程资源。仅支持主线"
      },
      {
        "section_id": "section-25",
        "title": "ApplicationContext.setFontSizeScale<sup>13+</sup>",
        "level": 2,
        "line_start": 1292,
        "line_end": 1327,
        "summary": "setFontSizeScale(fontSizeScale: number): void\n\n设置应用字体大小缩放比例。仅支持主线程调用。\n\n**原子化服务API**：从API version 13"
      },
      {
        "section_id": "section-26",
        "title": "ApplicationContext.getCurrentInstanceKey<sup>14+</sup>",
        "level": 2,
        "line_start": 1328,
        "line_end": 1374,
        "summary": "getCurrentInstanceKey(): string\n\n获取当前应用多实例的唯一实例标识。仅支持主线程调用。\n\n**系统能力**：SystemCapability.Ability.Abil"
      },
      {
        "section_id": "section-27",
        "title": "ApplicationContext.getAllRunningInstanceKeys<sup>14+</sup>",
        "level": 2,
        "line_start": 1375,
        "line_end": 1418,
        "summary": "getAllRunningInstanceKeys(): Promise\\<Array\\<string>>;\n\n获取应用的所有多实例的唯一实例标识。使用Promise异步回调。仅支持主线程调用。"
      },
      {
        "section_id": "section-28",
        "title": "ApplicationContext.getAllWindowStages<sup>23+</sup>",
        "level": 2,
        "line_start": 1419,
        "line_end": 1462,
        "summary": "getAllWindowStages(): Promise\\<Array\\<window.WindowStage>>\n\n获取应用当前进程内的所有WindowStage对象。使用Promise异步回调"
      }
    ]
  }
}