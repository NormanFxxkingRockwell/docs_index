{
  "doc_id": "js-apis-vibrator",
  "title": "@ohos.vibrator (振动)",
  "path": "zh-cn/application-dev/reference/apis-sensor-service-kit/js-apis-vibrator.md",
  "relative_path": "../../docs/zh-cn/application-dev/reference/apis-sensor-service-kit/js-apis-vibrator.md",
  "metadata": {
    "kit": "Sensor Service Kit",
    "subsystem": "Sensors",
    "owner": "@dilligencer",
    "designer": "@butterls",
    "tester": "@murphy84",
    "adviser": "@hu-zhiqiong"
  },
  "summary": "Sensor Service Kit Sensors 模块的 @ohos.vibrator (振动)，提供相关接口和功能说明。",
  "structure": {
    "title": "@ohos.vibrator (振动)",
    "sections": [
      {
        "section_id": "section-1",
        "title": "导入模块",
        "level": 2,
        "line_start": 16,
        "line_end": 21,
        "summary": "```ts\nimport { vibrator } from '@kit.SensorServiceKit';\n```"
      },
      {
        "section_id": "section-2",
        "title": "vibrator.startVibration<sup>9+</sup>",
        "level": 2,
        "line_start": 22,
        "line_end": 175,
        "summary": "startVibration(effect: VibrateEffect, attribute: VibrateAttribute, callback: AsyncCallback&lt;void&"
      },
      {
        "section_id": "section-3",
        "title": "vibrator.startVibration<sup>9+</sup>",
        "level": 2,
        "line_start": 176,
        "line_end": 332,
        "summary": "startVibration(effect: VibrateEffect, attribute: VibrateAttribute): Promise&lt;void&gt;\n\n根据指定的振动效果和"
      },
      {
        "section_id": "section-4",
        "title": "vibrator.stopVibration<sup>9+</sup>",
        "level": 2,
        "line_start": 333,
        "line_end": 444,
        "summary": "stopVibration(stopMode: VibratorStopMode, callback: AsyncCallback&lt;void&gt;): void\n\n按照指定模式停止马达振动。"
      },
      {
        "section_id": "section-5",
        "title": "vibrator.stopVibration<sup>9+</sup>",
        "level": 2,
        "line_start": 445,
        "line_end": 553,
        "summary": "stopVibration(stopMode: VibratorStopMode): Promise&lt;void&gt;\n\n按照指定模式停止马达的振动。使用promise异步回调。\n\n**需要权"
      },
      {
        "section_id": "section-6",
        "title": "vibrator.stopVibration<sup>10+</sup>",
        "level": 2,
        "line_start": 554,
        "line_end": 601,
        "summary": "stopVibration(callback: AsyncCallback&lt;void&gt;): void\n\n停止所有模式的马达振动。使用callback异步回调。\n\n**需要权限**：oho"
      },
      {
        "section_id": "section-7",
        "title": "vibrator.stopVibration<sup>10+</sup>",
        "level": 2,
        "line_start": 602,
        "line_end": 647,
        "summary": "stopVibration(): Promise&lt;void&gt;\n\n停止所有模式的马达振动。使用promise异步回调。\n\n**需要权限**：ohos.permission.VIBRATE"
      },
      {
        "section_id": "section-8",
        "title": "vibrator.stopVibration<sup>19+</sup>",
        "level": 2,
        "line_start": 648,
        "line_end": 712,
        "summary": "stopVibration(param?: VibratorInfoParam): Promise&lt;void&gt;\n\n不传参默认停止本地设备所有马达的振动，也可传递参数停止指定设备马达振动。"
      },
      {
        "section_id": "section-9",
        "title": "vibrator.stopVibrationSync<sup>12+</sup>",
        "level": 2,
        "line_start": 713,
        "line_end": 750,
        "summary": "stopVibrationSync(): void\n\n停止任何形式的马达振动。\n\n**需要权限**：ohos.permission.VIBRATE\n\n**原子化服务API**：从API versio"
      },
      {
        "section_id": "section-10",
        "title": "vibrator.isSupportEffect<sup>10+</sup>",
        "level": 2,
        "line_start": 751,
        "line_end": 817,
        "summary": "isSupportEffect(effectId: string, callback: AsyncCallback&lt;boolean&gt;): void\n\n查询是否支持传入参数effectId"
      },
      {
        "section_id": "section-11",
        "title": "vibrator.isSupportEffect<sup>10+</sup>",
        "level": 2,
        "line_start": 818,
        "line_end": 884,
        "summary": "isSupportEffect(effectId: string): Promise&lt;boolean&gt;\n\n查询是否支持传入参数effectId。使用promise异步回调。\n\n**系统能"
      },
      {
        "section_id": "section-12",
        "title": "vibrator.isSupportEffectSync<sup>12+</sup>",
        "level": 2,
        "line_start": 885,
        "line_end": 930,
        "summary": "isSupportEffectSync(effectId: string): boolean\n\n查询是否支持预设的振动效果。\n\n**系统能力**：SystemCapability.Sensors.M"
      },
      {
        "section_id": "section-13",
        "title": "vibrator.getEffectInfoSync<sup>19+</sup>",
        "level": 2,
        "line_start": 931,
        "line_end": 977,
        "summary": "getEffectInfoSync(effectId: string, param?: VibratorInfoParam): EffectInfo\n\n通过设备ID和可控马达ID获取预置振动效果信息"
      },
      {
        "section_id": "section-14",
        "title": "vibrator.getVibratorInfoSync<sup>19+</sup>",
        "level": 2,
        "line_start": 978,
        "line_end": 1014,
        "summary": "getVibratorInfoSync(param?: VibratorInfoParam): Array&lt;VibratorInfo&gt;;\n\n查询一个或所有设备的马达信息列表。\n\n**系统"
      },
      {
        "section_id": "section-15",
        "title": "vibrator.on<sup>19+</sup>",
        "level": 2,
        "line_start": 1015,
        "line_end": 1060,
        "summary": "on(type: 'vibratorStateChange', callback: Callback&lt;VibratorStatusEvent&gt;): void\n\n注册一个回调函数，在马达上"
      },
      {
        "section_id": "section-16",
        "title": "vibrator.off<sup>19+</sup>",
        "level": 2,
        "line_start": 1061,
        "line_end": 1107,
        "summary": "off(type: 'vibratorStateChange', callback?: Callback&lt;VibratorStatusEvent&gt;): void\n\n注销马达上线或下线事件"
      },
      {
        "section_id": "section-17",
        "title": "VibratorStatusEvent<sup>19+</sup>",
        "level": 2,
        "line_start": 1108,
        "line_end": 1122,
        "summary": "振动设备上线、下线状态事件信息。\n\n**系统能力**：SystemCapability.Sensors.MiscDevice\n\n\n| 名称               | 类型      | 只读"
      },
      {
        "section_id": "section-18",
        "title": "VibratorInfoParam<sup>19+</sup>",
        "level": 2,
        "line_start": 1123,
        "line_end": 1136,
        "summary": "设备上马达的参数。默认情况下，VibratorInfoParam默认为查询或控制本地全部马达。\n\n**系统能力**：SystemCapability.Sensors.MiscDevice\n\n\n| 名"
      },
      {
        "section_id": "section-19",
        "title": "EffectInfo<sup>19+</sup>",
        "level": 2,
        "line_start": 1137,
        "line_end": 1148,
        "summary": "查询的预制效果信息。\n\n**系统能力**：SystemCapability.Sensors.MiscDevice\n\n\n| 名称                | 类型      | 只读 | 可选"
      },
      {
        "section_id": "section-20",
        "title": "VibratorInfo<sup>19+</sup>",
        "level": 2,
        "line_start": 1149,
        "line_end": 1163,
        "summary": "表示查询的马达信息。\n\n**系统能力**：SystemCapability.Sensors.MiscDevice\n\n| 名称                  | 类型      | 只读 | 可选"
      },
      {
        "section_id": "section-21",
        "title": "vibrator.isHdHapticSupported<sup>12+</sup>",
        "level": 2,
        "line_start": 1164,
        "line_end": 1202,
        "summary": "isHdHapticSupported(): boolean\n\n查询是否支持高清振动。\n\n**系统能力**：SystemCapability.Sensors.MiscDevice\n\n**返回值**："
      },
      {
        "section_id": "section-22",
        "title": "VibratorPatternBuilder<sup>18+</sup>",
        "level": 2,
        "line_start": 1203,
        "line_end": 1374,
        "summary": "### vibrator('addContinuousEvent')<sup>18+</sup>\n\naddContinuousEvent(time: number, duration: number"
      },
      {
        "section_id": "section-23",
        "title": "EffectId",
        "level": 2,
        "line_start": 1375,
        "line_end": 1388,
        "summary": "预置的振动效果。在调用[vibrator.startVibration9+](#vibratorstartvibration9)或[vibrator.stopVibration9+](#vibrat"
      },
      {
        "section_id": "section-24",
        "title": "HapticFeedback<sup>12+</sup>",
        "level": 2,
        "line_start": 1389,
        "line_end": 1403,
        "summary": "简单而通用的振动效果。根据各设备的马达器件不同，同一振动效果的频率会有差异，但效果的频率趋向是统一的。这几种振动效果是EffectId参数的具体值，使用方法参考[vibrator.startVibr"
      },
      {
        "section_id": "section-25",
        "title": "VibratorStopMode",
        "level": 2,
        "line_start": 1404,
        "line_end": 1414,
        "summary": "停止振动的模式。在调用[vibrator.stopVibration9+](#vibratorstopvibration9)或[vibrator.stopVibration9+](#vibrator"
      },
      {
        "section_id": "section-26",
        "title": "VibrateEffect<sup>9+</sup>",
        "level": 2,
        "line_start": 1415,
        "line_end": 1429,
        "summary": "type VibrateEffect = VibrateTime | VibratePreset | VibrateFromFile | VibrateFromPattern\n\n马达振动效果，支持以"
      },
      {
        "section_id": "section-27",
        "title": "VibrateTime<sup>9+</sup>",
        "level": 2,
        "line_start": 1430,
        "line_end": 1442,
        "summary": "指定时长振动类型。\n\n**原子化服务API**：从API version 11开始，该接口在支持原子化服务中使用。\n\n**系统能力**：SystemCapability.Sensors.MiscDe"
      },
      {
        "section_id": "section-28",
        "title": "VibratePreset<sup>9+</sup>",
        "level": 2,
        "line_start": 1443,
        "line_end": 1455,
        "summary": "预置振动类型。当调用[vibrator.startVibration9+](#vibratorstartvibration9)或[vibrator.startVibration9+](#vibrat"
      },
      {
        "section_id": "section-29",
        "title": "VibrateFromFile<sup>10+</sup>",
        "level": 2,
        "line_start": 1456,
        "line_end": 1466,
        "summary": "自定义振动类型。仅部分设备支持。当设备不支持此振动类型时，返回设备不支持错误码。当调用[vibrator.startVibration9+](#vibratorstartvibration9)或[v"
      },
      {
        "section_id": "section-30",
        "title": "HapticFileDescriptor<sup>10+</sup>",
        "level": 2,
        "line_start": 1467,
        "line_end": 1478,
        "summary": "自定义振动配置文件的描述符，必须确认资源文件可用，其参数可通过[文件管理API](../apis-core-file-kit/js-apis-file-fs.md#fsopen)从沙箱路径获取或者通"
      },
      {
        "section_id": "section-31",
        "title": "VibratorEventType<sup>18+</sup>",
        "level": 2,
        "line_start": 1479,
        "line_end": 1489,
        "summary": "振动事件类型。\n\n**系统能力**：SystemCapability.Sensors.MiscDevice\n\n| 名称       | 值   | 说明              |\n| -----"
      },
      {
        "section_id": "section-32",
        "title": "VibratorCurvePoint<sup>18+</sup>",
        "level": 2,
        "line_start": 1490,
        "line_end": 1501,
        "summary": "相对事件振动强度的增益。\n\n**系统能力**：SystemCapability.Sensors.MiscDevice\n\n| 名称      | 类型   | 只读 | 可选 | 说明"
      },
      {
        "section_id": "section-33",
        "title": "VibratorEvent<sup>18+</sup>",
        "level": 2,
        "line_start": 1502,
        "line_end": 1517,
        "summary": "振动事件。\n\n**系统能力**：SystemCapability.Sensors.MiscDevice\n\n| 名称      | 类型                            | 只读"
      },
      {
        "section_id": "section-34",
        "title": "VibratorPattern<sup>18+</sup>",
        "level": 2,
        "line_start": 1518,
        "line_end": 1528,
        "summary": "马达振动序列，每个events代表一个振动事件。\n\n**系统能力**：SystemCapability.Sensors.MiscDevice\n\n| 名称   | 类型"
      },
      {
        "section_id": "section-35",
        "title": "ContinuousParam<sup>18+</sup>",
        "level": 2,
        "line_start": 1529,
        "line_end": 1541,
        "summary": "连续振动参数。\n\n**系统能力**：SystemCapability.Sensors.MiscDevice\n\n| 名称      | 类型                 | 只读 | 可选 | 说"
      },
      {
        "section_id": "section-36",
        "title": "TransientParam<sup>18+</sup>",
        "level": 2,
        "line_start": 1542,
        "line_end": 1553,
        "summary": "瞬态振动参数。\n\n**系统能力**：SystemCapability.Sensors.MiscDevice\n\n| 名称      | 类型   | 只读 | 可选 | 说明"
      },
      {
        "section_id": "section-37",
        "title": "VibrateFromPattern<sup>18+</sup>",
        "level": 2,
        "line_start": 1554,
        "line_end": 1564,
        "summary": "自定义振动效果触发马达振动。\n\n**系统能力**：SystemCapability.Sensors.MiscDevice\n\n| 名称    | 类型            | 只读 | 可选 | 说"
      },
      {
        "section_id": "section-38",
        "title": "VibrateAttribute<sup>9+</sup>",
        "level": 2,
        "line_start": 1565,
        "line_end": 1578,
        "summary": "马达振动属性。\n\n**原子化服务API**：从API version 11开始，该接口支持在原子化服务中使用。\n\n**系统能力**：SystemCapability.Sensors.MiscDevi"
      },
      {
        "section_id": "section-39",
        "title": "Usage<sup>9+</sup>",
        "level": 2,
        "line_start": 1579,
        "line_end": 1603,
        "summary": "type Usage = 'unknown' | 'alarm' | 'ring' | 'notification' | 'communication' | 'touch' | 'media' |"
      },
      {
        "section_id": "section-40",
        "title": "vibrator.vibrate<sup>(deprecated)</sup>",
        "level": 2,
        "line_start": 1604,
        "line_end": 1640,
        "summary": "vibrate(duration: number): Promise&lt;void&gt;\n\n按照指定持续时间触发马达振动。\n\n从API version 8 开始支持，从API version 9"
      },
      {
        "section_id": "section-41",
        "title": "vibrator.vibrate<sup>(deprecated)</sup>",
        "level": 2,
        "line_start": 1641,
        "line_end": 1675,
        "summary": "vibrate(duration: number, callback?: AsyncCallback&lt;void&gt;): void\n\n按照指定持续时间触发马达振动。\n\n从API versio"
      },
      {
        "section_id": "section-42",
        "title": "vibrator.vibrate<sup>(deprecated)</sup>",
        "level": 2,
        "line_start": 1676,
        "line_end": 1713,
        "summary": "vibrate(effectId: EffectId): Promise&lt;void&gt;\n\n按照预置振动效果触发马达振动。\n\n从API version 8 开始支持，从API version"
      },
      {
        "section_id": "section-43",
        "title": "vibrator.vibrate<sup>(deprecated)</sup>",
        "level": 2,
        "line_start": 1714,
        "line_end": 1747,
        "summary": "vibrate(effectId: EffectId, callback?: AsyncCallback&lt;void&gt;): void\n\n按照指定振动效果触发马达振动。\n\n从API vers"
      },
      {
        "section_id": "section-44",
        "title": "vibrator.stop<sup>(deprecated)</sup>",
        "level": 2,
        "line_start": 1748,
        "line_end": 1794,
        "summary": "stop(stopMode: VibratorStopMode): Promise&lt;void&gt;\n\n按照指定模式停止马达的振动。\n\n从API version 8 开始支持，从API ver"
      },
      {
        "section_id": "section-45",
        "title": "vibrator.stop<sup>(deprecated)</sup>",
        "level": 2,
        "line_start": 1795,
        "line_end": 1836,
        "summary": "stop(stopMode: VibratorStopMode, callback?: AsyncCallback&lt;void&gt;): void\n\n按照指定模式停止马达的振动。\n\n从API"
      }
    ]
  }
}