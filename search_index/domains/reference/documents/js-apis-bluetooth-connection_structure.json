{
  "doc_id": "js-apis-bluetooth-connection",
  "title": "@ohos.bluetooth.connection (蓝牙connection模块)",
  "path": "zh-cn/application-dev/reference/apis-connectivity-kit/js-apis-bluetooth-connection.md",
  "relative_path": "../../docs/zh-cn/application-dev/reference/apis-connectivity-kit/js-apis-bluetooth-connection.md",
  "metadata": {
    "kit": "Connectivity Kit",
    "subsystem": "Communication",
    "owner": "@enjoy_sunshine",
    "designer": "@chengguohong; @tangjia15",
    "tester": "@wangfeng517",
    "adviser": "@zhang_yixin13"
  },
  "summary": "Connectivity Kit Communication 模块的 @ohos.bluetooth.connection (蓝牙connection模块)，提供相关接口和功能说明。",
  "structure": {
    "title": "@ohos.bluetooth.connection (蓝牙connection模块)",
    "sections": [
      {
        "section_id": "section-1",
        "title": "导入模块",
        "level": 2,
        "line_start": 18,
        "line_end": 24,
        "summary": "```js\nimport { connection } from '@kit.ConnectivityKit';\n```"
      },
      {
        "section_id": "section-2",
        "title": "ProfileConnectionState",
        "level": 2,
        "line_start": 25,
        "line_end": 37,
        "summary": "type ProfileConnectionState = constant.ProfileConnectionState\n\n蓝牙设备的Profile协议连接状态。Profile协议包括A2DP（A"
      },
      {
        "section_id": "section-3",
        "title": "ProfileId",
        "level": 2,
        "line_start": 38,
        "line_end": 50,
        "summary": "type ProfileId = constant.ProfileId\n\n枚举，蓝牙Profile协议。\n\n**系统能力**：SystemCapability.Communication.Bluet"
      },
      {
        "section_id": "section-4",
        "title": "ProfileUuids<sup>12+</sup>",
        "level": 2,
        "line_start": 51,
        "line_end": 63,
        "summary": "type ProfileUuids = constant.ProfileUuids\n\n蓝牙Profile协议的UUID。\n\n**系统能力**：SystemCapability.Communicati"
      },
      {
        "section_id": "section-5",
        "title": "MajorClass",
        "level": 2,
        "line_start": 64,
        "line_end": 76,
        "summary": "type MajorClass = constant.MajorClass\n\n蓝牙设备的主要类型。蓝牙标准协议字段。\n\n**系统能力**：SystemCapability.Communication"
      },
      {
        "section_id": "section-6",
        "title": "MajorMinorClass",
        "level": 2,
        "line_start": 77,
        "line_end": 89,
        "summary": "type MajorMinorClass = constant.MajorMinorClass\n\n蓝牙设备的子类型，在[MajorClass](js-apis-bluetooth-constant."
      },
      {
        "section_id": "section-7",
        "title": "BluetoothAddress<sup>21+</sup>",
        "level": 2,
        "line_start": 90,
        "line_end": 102,
        "summary": "type BluetoothAddress = common.BluetoothAddress\n\n描述蓝牙设备地址信息的参数结构，包括地址与地址类型。\n\n**系统能力**：SystemCapabil"
      },
      {
        "section_id": "section-8",
        "title": "connection.pairDevice",
        "level": 2,
        "line_start": 103,
        "line_end": 152,
        "summary": "pairDevice(deviceId: string, callback: AsyncCallback&lt;void&gt;): void\n\n主动发起与对端蓝牙设备的配对流程。使用Callbac"
      },
      {
        "section_id": "section-9",
        "title": "connection.pairDevice",
        "level": 2,
        "line_start": 153,
        "line_end": 209,
        "summary": "pairDevice(deviceId: string): Promise&lt;void&gt;\n\n主动发起与对端蓝牙设备的配对流程。使用Promise异步回调。\n- 若开发者不知道目标设备的[地"
      },
      {
        "section_id": "section-10",
        "title": "connection.pairDevice<sup>21+</sup>",
        "level": 2,
        "line_start": 210,
        "line_end": 267,
        "summary": "pairDevice(deviceId: BluetoothAddress): Promise&lt;void&gt;\n\n主动发起与对端蓝牙设备的配对流程。使用Promise异步回调。\n- 若开发者"
      },
      {
        "section_id": "section-11",
        "title": "connection.getRemoteDeviceName",
        "level": 2,
        "line_start": 268,
        "line_end": 318,
        "summary": "getRemoteDeviceName(deviceId: string): string\n\n获取对端蓝牙设备的名称。\n\n- 从API version 21开始，此接口支持使用对端设备的实际MAC地"
      },
      {
        "section_id": "section-12",
        "title": "connection.getRemoteDeviceName<sup>16+</sup>",
        "level": 2,
        "line_start": 319,
        "line_end": 370,
        "summary": "getRemoteDeviceName(deviceId: string, alias?: boolean): string\n\n获取对端蓝牙设备的名称，其中alias为可选参数。\n\n- 从API v"
      },
      {
        "section_id": "section-13",
        "title": "connection.getRemoteDeviceClass",
        "level": 2,
        "line_start": 371,
        "line_end": 416,
        "summary": "getRemoteDeviceClass(deviceId: string): DeviceClass\n\n获取对端蓝牙设备的类别。\n\n- 从API version 18开始，此接口不再校验ohos."
      },
      {
        "section_id": "section-14",
        "title": "connection.getRemoteDeviceTransport<sup>20+</sup>",
        "level": 2,
        "line_start": 417,
        "line_end": 460,
        "summary": "getRemoteDeviceTransport(deviceId: string): BluetoothTransport\n\n获取对端蓝牙设备的传输类型。\n\n- 从API version 21开始"
      },
      {
        "section_id": "section-15",
        "title": "connection.getRemoteProfileUuids<sup>12+</sup>",
        "level": 2,
        "line_start": 461,
        "line_end": 507,
        "summary": "getRemoteProfileUuids(deviceId: string, callback: AsyncCallback&lt;Array&lt;ProfileUuids&gt;&gt;):"
      },
      {
        "section_id": "section-16",
        "title": "connection.getRemoteProfileUuids<sup>12+</sup>",
        "level": 2,
        "line_start": 508,
        "line_end": 560,
        "summary": "getRemoteProfileUuids(deviceId: string): Promise&lt;Array&lt;ProfileUuids&gt;&gt;\n\n获取对端蓝牙设备的Profile"
      },
      {
        "section_id": "section-17",
        "title": "connection.getLocalName",
        "level": 2,
        "line_start": 561,
        "line_end": 599,
        "summary": "getLocalName(): string\n\n获取本机蓝牙设备的名称。\n\n**需要权限**：ohos.permission.ACCESS_BLUETOOTH\n\n**系统能力**：SystemCap"
      },
      {
        "section_id": "section-18",
        "title": "connection.getPairedDevices",
        "level": 2,
        "line_start": 600,
        "line_end": 641,
        "summary": "getPairedDevices(): Array&lt;string&gt;\n\n获取已配对蓝牙设备的地址集合。\n\n**需要权限**：ohos.permission.ACCESS_BLUETOOTH"
      },
      {
        "section_id": "section-19",
        "title": "connection.getPairState<sup>11+</sup>",
        "level": 2,
        "line_start": 642,
        "line_end": 693,
        "summary": "getPairState(deviceId: string): BondState\n\n获取对端蓝牙设备的配对状态信息。\n\n- 从API version 21开始，此接口支持使用对端设备的实际MAC地"
      },
      {
        "section_id": "section-20",
        "title": "connection.getProfileConnectionState",
        "level": 2,
        "line_start": 694,
        "line_end": 742,
        "summary": "getProfileConnectionState(profileId?: ProfileId): ProfileConnectionState\n\n获取蓝牙Profile协议的连接状态，其中Prof"
      },
      {
        "section_id": "section-21",
        "title": "connection.setDevicePairingConfirmation",
        "level": 2,
        "line_start": 743,
        "line_end": 790,
        "summary": "setDevicePairingConfirmation(deviceId: string, accept: boolean): void\n\n收到对端蓝牙设备的配对请求事件后，确认请求结果。\n- 对"
      },
      {
        "section_id": "section-22",
        "title": "connection.setDevicePinCode",
        "level": 2,
        "line_start": 791,
        "line_end": 836,
        "summary": "setDevicePinCode(deviceId: string, code: string, callback: AsyncCallback&lt;void&gt;): void\n\n蓝牙配对时，"
      },
      {
        "section_id": "section-23",
        "title": "connection.setDevicePinCode",
        "level": 2,
        "line_start": 837,
        "line_end": 890,
        "summary": "setDevicePinCode(deviceId: string, code: string): Promise&lt;void&gt;\n\n蓝牙配对时，弹框提示用户输入PIN码，调用此接口请求用户"
      },
      {
        "section_id": "section-24",
        "title": "connection.setLocalName<sup>(deprecated)</sup>",
        "level": 2,
        "line_start": 891,
        "line_end": 934,
        "summary": "setLocalName(name: string): void\n\n设置本机蓝牙设备名称，不能设置为空字符串。如果设为空字符串会失败。\n\n> **说明：**<br/>\n> 从API version"
      },
      {
        "section_id": "section-25",
        "title": "connection.setBluetoothScanMode",
        "level": 2,
        "line_start": 935,
        "line_end": 977,
        "summary": "setBluetoothScanMode(mode: ScanMode, duration: number): void\n\n设置蓝牙扫描模式，决定本机设备是否可被连接，或者可被发现。搭配[onSca"
      },
      {
        "section_id": "section-26",
        "title": "connection.getBluetoothScanMode",
        "level": 2,
        "line_start": 978,
        "line_end": 1017,
        "summary": "getBluetoothScanMode(): ScanMode\n\n获取蓝牙扫描模式。搭配[onScanModeChange](#connectiononscanmodechange23)接口使用，"
      },
      {
        "section_id": "section-27",
        "title": "connection.startBluetoothDiscovery",
        "level": 2,
        "line_start": 1018,
        "line_end": 1061,
        "summary": "startBluetoothDiscovery(): void\n\n开启蓝牙扫描，发现对端蓝牙设备。<br>\n- 该接口支持发现传统蓝牙设备和低功耗蓝牙设备，整个蓝牙扫描过程大约持续12s。<br>"
      },
      {
        "section_id": "section-28",
        "title": "connection.stopBluetoothDiscovery",
        "level": 2,
        "line_start": 1062,
        "line_end": 1100,
        "summary": "stopBluetoothDiscovery(): void\n\n关闭蓝牙扫描。<br>\n- 关闭的扫描是由[connection.startBluetoothDiscovery](#connecti"
      },
      {
        "section_id": "section-29",
        "title": "connection.isBluetoothDiscovering<sup>11+</sup>",
        "level": 2,
        "line_start": 1101,
        "line_end": 1140,
        "summary": "isBluetoothDiscovering(): boolean\n\n判断本机蓝牙设备是否处于设备扫描状态。\n\n**需要权限**：ohos.permission.ACCESS_BLUETOOTH"
      },
      {
        "section_id": "section-30",
        "title": "connection.setRemoteDeviceName<sup>12+</sup>",
        "level": 2,
        "line_start": 1141,
        "line_end": 1195,
        "summary": "setRemoteDeviceName(deviceId: string, name: string): Promise&lt;void&gt;\n\n设置对端蓝牙设备的名称，不能设置为空字符串。如果设"
      },
      {
        "section_id": "section-31",
        "title": "connection.getRemoteDeviceBatteryInfo<sup>12+</sup>",
        "level": 2,
        "line_start": 1196,
        "line_end": 1245,
        "summary": "getRemoteDeviceBatteryInfo(deviceId: string): Promise&lt;BatteryInfo&gt;\n\n获取对端蓝牙设备的电量信息。使用Promise异步"
      },
      {
        "section_id": "section-32",
        "title": "connection.on('batteryChange')<sup>12+</sup>",
        "level": 2,
        "line_start": 1246,
        "line_end": 1286,
        "summary": "on(type: 'batteryChange', callback: Callback&lt;BatteryInfo&gt;): void\n\n订阅对端设备的电量信息变化事件。使用Callback异"
      },
      {
        "section_id": "section-33",
        "title": "connection.off('batteryChange')<sup>12+</sup>",
        "level": 2,
        "line_start": 1287,
        "line_end": 1328,
        "summary": "off(type: 'batteryChange', callback?: Callback&lt;BatteryInfo&gt;): void\n\n取消订阅对端设备的电量信息变化事件。\n\n**需要权"
      },
      {
        "section_id": "section-34",
        "title": "connection.on('bluetoothDeviceFind')",
        "level": 2,
        "line_start": 1329,
        "line_end": 1376,
        "summary": "on(type: 'bluetoothDeviceFind', callback: Callback&lt;Array&lt;string&gt;&gt;): void\n\n订阅蓝牙设备扫描结果上报事"
      },
      {
        "section_id": "section-35",
        "title": "connection.off('bluetoothDeviceFind')",
        "level": 2,
        "line_start": 1377,
        "line_end": 1421,
        "summary": "off(type: 'bluetoothDeviceFind', callback?: Callback&lt;Array&lt;string&gt;&gt;): void\n\n取消订阅蓝牙设备扫描结"
      },
      {
        "section_id": "section-36",
        "title": "connection.on('bondStateChange')",
        "level": 2,
        "line_start": 1422,
        "line_end": 1464,
        "summary": "on(type: 'bondStateChange', callback: Callback&lt;BondStateParam&gt;): void\n\n订阅蓝牙配对状态变化事件。使用Callbac"
      },
      {
        "section_id": "section-37",
        "title": "connection.off('bondStateChange')",
        "level": 2,
        "line_start": 1465,
        "line_end": 1508,
        "summary": "off(type: 'bondStateChange', callback?: Callback&lt;BondStateParam&gt;): void\n\n取消订阅蓝牙配对状态变化事件。\n\n**需"
      },
      {
        "section_id": "section-38",
        "title": "connection.on('pinRequired')",
        "level": 2,
        "line_start": 1509,
        "line_end": 1551,
        "summary": "on(type: 'pinRequired', callback: Callback&lt;PinRequiredParam&gt;): void\n\n订阅配对请求事件。使用Callback异步回调。"
      },
      {
        "section_id": "section-39",
        "title": "connection.off('pinRequired')",
        "level": 2,
        "line_start": 1552,
        "line_end": 1595,
        "summary": "off(type: 'pinRequired', callback?: Callback&lt;PinRequiredParam&gt;): void\n\n取消订阅配对请求事件。\n\n**需要权限**："
      },
      {
        "section_id": "section-40",
        "title": "connection.on('discoveryResult')<sup>18+</sup>",
        "level": 2,
        "line_start": 1596,
        "line_end": 1640,
        "summary": "on(type: 'discoveryResult', callback: Callback&lt;Array&lt;DiscoveryResult&gt;&gt;): void\n\n订阅蓝牙设备扫描"
      },
      {
        "section_id": "section-41",
        "title": "connection.off('discoveryResult')<sup>18+</sup>",
        "level": 2,
        "line_start": 1641,
        "line_end": 1683,
        "summary": "off(type: 'discoveryResult', callback?: Callback&lt;Array&lt;DiscoveryResult&gt;&gt;): void\n\n取消订阅蓝牙"
      },
      {
        "section_id": "section-42",
        "title": "connection.onScanModeChange<sup>23+</sup>",
        "level": 2,
        "line_start": 1684,
        "line_end": 1723,
        "summary": "onScanModeChange(callback: Callback&lt;ScanMode&gt;): void\n\n订阅蓝牙扫描模式变更事件。使用Callback异步回调。当调用[setBlue"
      },
      {
        "section_id": "section-43",
        "title": "connection.offScanModeChange<sup>23+</sup>",
        "level": 2,
        "line_start": 1724,
        "line_end": 1763,
        "summary": "offScanModeChange(callback?: Callback&lt;ScanMode&gt;): void\n\n取消订阅蓝牙扫描模式变更事件。\n\n**需要权限**：ohos.permis"
      },
      {
        "section_id": "section-44",
        "title": "connection.getLastConnectionTime<sup>15+</sup>",
        "level": 2,
        "line_start": 1764,
        "line_end": 1811,
        "summary": "getLastConnectionTime(deviceId: string): Promise&lt;number&gt;\n\n获取对端蓝牙设备最近一次连接的时间点。使用Promise异步回调。"
      },
      {
        "section_id": "section-45",
        "title": "connection.connectAllowedProfiles<sup>16+</sup>",
        "level": 2,
        "line_start": 1812,
        "line_end": 1862,
        "summary": "connectAllowedProfiles(deviceId: string, callback: AsyncCallback&lt;void&gt;): void\n\n连接对端设备支持的profi"
      },
      {
        "section_id": "section-46",
        "title": "connection.connectAllowedProfiles<sup>16+</sup>",
        "level": 2,
        "line_start": 1863,
        "line_end": 1915,
        "summary": "connectAllowedProfiles(deviceId: string): Promise&lt;void&gt;\n\n连接对端设备支持的profile（只包括A2DP、HFP和HID）。使用"
      },
      {
        "section_id": "section-47",
        "title": "BondStateParam",
        "level": 2,
        "line_start": 1916,
        "line_end": 1928,
        "summary": "描述配对状态结果的参数结构。\n\n**系统能力**：SystemCapability.Communication.Bluetooth.Core\n\n| 名称       | 类型   | 只读 | 可选"
      },
      {
        "section_id": "section-48",
        "title": "PinRequiredParam",
        "level": 2,
        "line_start": 1929,
        "line_end": 1941,
        "summary": "描述配对请求的参数结构。\n\n**系统能力**：SystemCapability.Communication.Bluetooth.Core\n\n| 名称       | 类型   | 只读   | 可选"
      },
      {
        "section_id": "section-49",
        "title": "DeviceClass",
        "level": 2,
        "line_start": 1942,
        "line_end": 1954,
        "summary": "描述蓝牙设备的类型。\n\n**系统能力**：SystemCapability.Communication.Bluetooth.Core\n\n| 名称              | 类型"
      },
      {
        "section_id": "section-50",
        "title": "BatteryInfo<sup>12+</sup>",
        "level": 2,
        "line_start": 1955,
        "line_end": 1971,
        "summary": "描述设备的电量信息。<br>只有支持蓝牙标准协议定义的电量信息AT（Attention）命令（包括：+XEVENT和IPHONEACCEV）的设备才支持上报有效的电量信息。\n\n**系统能力**：Sy"
      },
      {
        "section_id": "section-51",
        "title": "BluetoothTransport",
        "level": 2,
        "line_start": 1972,
        "line_end": 1985,
        "summary": "枚举，表示设备传输类型。\n\n**系统能力**：SystemCapability.Communication.Bluetooth.Core\n\n| 名称"
      },
      {
        "section_id": "section-52",
        "title": "ScanMode",
        "level": 2,
        "line_start": 1986,
        "line_end": 2001,
        "summary": "枚举，表示扫描模式。该模式决定设备是否可被发现或可被连接。\n\n**系统能力**：SystemCapability.Communication.Bluetooth.Core\n\n| 名称"
      },
      {
        "section_id": "section-53",
        "title": "BondState",
        "level": 2,
        "line_start": 2002,
        "line_end": 2016,
        "summary": "枚举，配对状态。\n\n**原子化服务API**：从API version 12开始，该接口支持在原子化服务中使用。\n\n**系统能力**：SystemCapability.Communication.B"
      },
      {
        "section_id": "section-54",
        "title": "UnbondCause<sup>12+</sup>",
        "level": 2,
        "line_start": 2017,
        "line_end": 2031,
        "summary": "枚举，配对失败原因。\n\n**系统能力**：SystemCapability.Communication.Bluetooth.Core\n\n| 名称                 | 值  | 说明"
      },
      {
        "section_id": "section-55",
        "title": "DeviceChargeState<sup>12+</sup>",
        "level": 2,
        "line_start": 2032,
        "line_end": 2044,
        "summary": "枚举，表示设备当前的充电状态。\n\n**系统能力**：SystemCapability.Communication.Bluetooth.Core\n\n| 名称                 | 值"
      },
      {
        "section_id": "section-56",
        "title": "DiscoveryResult<sup>18+</sup>",
        "level": 2,
        "line_start": 2045,
        "line_end": 2056,
        "summary": "扫描到设备后，上报的扫描结果。\n\n**系统能力**：SystemCapability.Communication.Bluetooth.Core\n\n| 名称       | 类型   | 只读   |"
      }
    ]
  }
}